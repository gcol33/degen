% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/symbolic.R
\name{detect_linear_reparam}
\alias{detect_linear_reparam}
\title{Detect linear reparameterization}
\usage{
detect_linear_reparam(spec_a, spec_b, y, n_test = 50, tol = 1e-04)
}
\arguments{
\item{spec_a}{First \code{model_spec} object}

\item{spec_b}{Second \code{model_spec} object}

\item{y}{Numeric vector of observed data}

\item{n_test}{Number of parameter points to test (default 50)}

\item{tol}{Tolerance for detecting linear relationship}
}
\value{
An S3 object of class \code{linear_reparam} containing:
\describe{
\item{is_linear}{Logical; whether a linear relationship was detected}
\item{transformation}{If linear, the estimated transformation matrix and offset}
\item{r_squared}{R-squared value of the linear fit}
\item{residuals}{Residuals from the linear fit}
}
}
\description{
Check whether two model specifications are related by a linear
reparameterization (affine transformation of parameters).
}
\details{
This function tests whether there exists a linear transformation
theta_B = A * theta_A + b such that the two models produce the same
likelihood for all data.

Examples of linear reparameterizations:
\itemize{
\item Normal(mu, sigma) vs Normal(mu, sigma^2): not linear (square transformation)
\item Exponential(rate) vs Exponential(mean): linear (mean = 1/rate is not linear)
\item Location-scale: linear in location, but log-linear in scale
}
}
\examples{
# Two models with different parameterizations
exp_spec <- model_spec(
  loglik_fn = function(y, lambda) sum(dexp(y, rate = lambda, log = TRUE)),
  par_names = "lambda",
  par_bounds = list(lambda = c(0.1, 10)),
  name = "Exponential"
)

gamma_spec <- model_spec(
  loglik_fn = function(y, rate) sum(dgamma(y, shape = 1, rate = rate, log = TRUE)),
  par_names = "rate",
  par_bounds = list(rate = c(0.1, 10)),
  name = "Gamma(1)"
)

set.seed(123)
y <- rexp(50, rate = 2)

result <- detect_linear_reparam(exp_spec, gamma_spec, y)
print(result)
}
